/**
 * jQuery-mdStrap
 *
 * jQuery plugin that enables mobile slide navigation for Bootstrap v4 framework
 *
 * @version 2.0.0
 * @author Corneliu Cirlan (www.corneliucirlan.com)
 */

// Various Bootstrap background colors
$mds-bg-names: bg-primary, bg-success, bg-info, bg-warning, bg-danger, bg-inverse
$mds-bg-colors: $brand-primary, $brand-success, $brand-info, $brand-warning, $brand-danger, $brand-inverse

// Mobile menu breakpoint
$desktop-size: 992px

.mds-overlay
	display: none
	position: fixed
	height: 100%
	margin: 0 auto
	top: 0
	left: 0
	right: 0
	bottom: 0
	background-color: rgba(black, 0.4)
	z-index: 999

.mds-fixed-top
	box-shadow: 0 2px 5px 0 rgba(black, 0.16), 0  2px 10px 0 rgba(black, 0.12)
	transition: all 0.3s ease-in-out

.mds-disable-scroll
	overflow: hidden
	height: 100%

header nav.navbar
	padding: 0
	pointer-events: all
	flex-direction: row

	.container-fluid
		display: flex
		justify-content: space-between
		align-items: center

	.navbar-toggler
		outline: 0
		border: 0
		cursor: pointer

		&.navbar-toggler-left,
		&.navbar-toggler-right
			position: initial

		&:active, &:focus, &:hover, &:visited
			outline: 0

	.navbar-nav
		display: none
		position: absolute
		top: 0
		padding: 0
		max-width: 13rem
		width: 100%
		height: 100vh
		background-color: inherit
		transition: all ease-in-out 200ms
		box-shadow: 3px 0 3px rgba(black, 0.2)
		pointer-events: all

		&.navbar-nav-left
			left: -100%

			&.mds-active
				left: 0%
				animation: fly-in-left 200ms

		&.navbar-nav-right
			right: -100%

			&.navbar-nav-right
				right: 0%
				animation: fly-in-right 200ms

		.nav-item
			display: block
			width: 100%
			margin: 0
			padding: 0.5rem 2rem
			transition: all 0.2s ease-in-out

	&.mds-active
		background-color: transparent !important
		box-shadow: none
		pointer-events: none

		.navbar-nav
			display: block

	@each $color in $mds-bg-names
		$index: index($mds-bg-names, $color)
		&.#{$color}

			.navbar-nav
				background-color: nth($mds-bg-colors, $index)

@media (min-width: $desktop-size)
	header nav.navbar
		.container-fluid
			display: block

		.navbar-toggler
			display: none

		.navbar-nav
			display: flex
			flex-direction: row
			position: relative
			left: 0
			top: 0
			max-width: 100%
			height: auto
			box-shadow: none
			//background: transparent
			color: inherit

			&.navbar-nav-left,
			&.navbar-nav-right
				left: inherit
				right: inherit

			.nav-item
				width: auto
				padding: 0.5rem

				&:first-child
					padding-left: 0

				.nav-link
					//color: $link-color

@keyframes fly-in-left
	0%
		left: -100%

	100%
		left: 0%

@keyframes fly-in-right
	0%
		right: -100%

	100%
		right: 0%
